<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>数组</title>
</head>

<body>
    <script type="text/javascript">
    function quchong(arr) {
        var newArr = [];
        var newJson = {};
        arr.forEach(function(item, i, arr) {
            if (!newJson[item]) {
                newArr.push(item);
                newJson[item] = 1;
            }
        });
        return newArr;
    };
    console.log(quchong([0, 2, 2, 5, 1]));


    function quchong2(arr) {
        var newArr = [];
        arr.forEach(function(item, i, arr) {
            if (newArr.indexOf(item) == -1) {
                newArr.push(item);
            }
        });
        return newArr;
    };
    console.log(quchong2([0, 2, 2, 5, 1]));


    // 对象深拷贝
    function deepClone(obj) {
        var newObj = {};
        for (key in obj) {
            newObj[key] = typeof obj === "Object" ? deepClone(obj[key]) : obj[key];
        };
        return newObj;
    };
    console.log(deepClone({ a: 1, b: 2, c: { a: 1 } }));


    // 类数组转数组
    function arr() {
        // var arr = Array.prototype.slice.call(arguments);
        // return arr;
        var arr = [];
        // arguments.forEach(function(item,i,arr){
        // 	arr.push(item);
        // });此处无法用foreach
        for (var i = 0; i < arguments.length; i++) {
            arr.push(arguments[i]);
        }
        return arr;
    };
    console.log(arr(1, 2, 3));


    function countTime() {
        //获取当前时间
        var timer, d, h, m, s;
        var date = new Date();
        var now = date.getTime();
        //获取截止时间  
        var str = "2018/3/6";
        var endDate = new Date(str);
        var end = endDate.getTime();
        //时间差  
        var leftTime = end - now;
        if (leftTime >= 0) {
            d = (Math.floor(leftTime / 1000 / 60 / 60 / 24)).toString();
            h = (Math.floor(leftTime / 1000 / 60 / 60 % 24)).toString();
            m = (Math.floor(leftTime / 1000 / 60 % 60)).toString();
            s = (Math.floor(leftTime / 1000 % 60)).toString();
        } else {
            clearTimeout(timer);
            return;
        };
        if (m.length == 1) {
            m = '0' + m;
        };
        if (s.length == 1) {
            s = '0' + s;
        };
        console.log(h, m, s);
        timer = setTimeout(countTime, 1000);
    };

    ;
    // (function() {
    //     var i = 0;
    //     (function count() {
    //         var timer = setTimeout(count, 1000);
    //         console.log(i++);
    //         if (i > 5) {
    //             clearTimeout(timer);
    //         }
    //     }());
    // })();


    var array = [1, 4, -8, -3, 6, 12, 9, 8];

    function compare(val1, val2) {
        return val1 - val2;
    };
    array.sort(compare);
    console.log(array);

    function sort(arr) {
        for (var j = 0; j < arr.length - 1; j++) {
            //两两比较，如果前一个比后一个大，则交换位置。
            for (var i = 0; i < arr.length - 1 - j; i++) {
                if (arr[i] > arr[i + 1]) {
                    var temp = arr[i];
                    arr[i] = arr[i + 1];
                    arr[i + 1] = temp;
                }
            }
        }
        return arr;
    }
    console.log(sort(array));


    var m = 0;
    setInterval(function(){
    	console.log(m++)
    },1000)
    </script>
</body>

</html>